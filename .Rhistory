file=N[i], row.names = FALSE,
col.names = TRUE, sep=",")
pr10 <- add_header("C:\\Users\\bean_student\\Documents\\GraphData\\ProgressReport10\\data")
head(pr10)
N <- names(pr10)
for (i in seq_along(N)) write.table(pr10[[i]],
file=N[i], row.names = FALSE,
col.names = TRUE, sep=",")
pr11 <- add_header("C:\\Users\\bean_student\\Documents\\GraphData\\ProgressReport11\\data")
head(pr11)
N <- names(pr11)
for (i in seq_along(N)) write.table(pr11[[i]],
file=N[i], row.names = FALSE,
col.names = TRUE, sep=",")
devtools::load_all()
library(stringr)
all_codes <- list.dirs("C:\Users\bean_student\Documents\meta_compatable\codes\moved_data",
all_codes <- list.dirs("C:\\Users\\bean_student\\Documents\\meta_compatable\\codes\\moved_data",
recursive = FALSE)
all_codes <- str_sub(all_codes,-6,-1)
all_codes
all_codes <- list.dirs("C:\\Users\\bean_student\\Documents\\meta_compatable\\codes\\moved_data",
recursive = FALSE)
all_codes
?sub
all_codes <- list.dirs("C:\\Users\\bean_student\\Documents\\meta_compatable\\codes\\moved_data",
recursive = FALSE)
all_codes <- sub(".*moved_data/", "", all_codes)
all_codes
data_list <- list()
for(i in seq_along(all_codes)){
data_list[[i]] <- code_var(path, all_codes[i])
}
path <- "C:\\Users\\bean_student\\Documents\\meta_compatable\\codes\\moved_data"
all_codes <- list.dirs(path, recursive = FALSE)
all_codes <- sub(".*moved_data/", "", all_codes)
all_codes
data_list <- list()
for(i in seq_along(all_codes)){
data_list[[i]] <- code_var(path, all_codes[i])
}
data_list[1]
path <- "C:\\Users\\bean_student\\Documents\\meta_compatable\\codes\\moved_data"
all_codes <- list.dirs(path, recursive = FALSE)
all_codes <- sub(".*moved_data/", "", all_codes)
all_codes
data_list <- list()
for(i in seq_along(all_codes)){
data_list[[i]] <- code_var(path, all_codes[i], 4)
}
data_list[1]
lenght(data_list)
length(data_list)
all_codes[33]
code_var(path, "gdnf", 4)
code_var(path, "gdnf01", 4)
path <- "C:\\Users\\bean_student\\Documents\\meta_compatable\\codes\\moved_data"
all_codes <- list.dirs(path, recursive = FALSE)
all_codes <- sub(".*moved_data/", "", all_codes)
all_codes
data_list <- list()
for(i in seq_along(all_codes)){
data_list[[i]] <- code_var(path, all_codes[i], 4)
}
lenght(data_list)
length(data_list)
data_list[1]
all_codes[124]
data_list[124]
######################## saving them ##########################################
for (i in data_list){
N <- names(i)
for (j in seq_along(i)) {
# Get the dataset name (file name without extension)
write.table(i[[j]], file=N[j], row.names = FALSE, col.names = TRUE, sep=",")
}
}
devtools::document()
###################### moving to new folder with all of them ##################
# Set your chosen path
chosen_path <- "C:/Users/bean_student/Documents/meta_compatable/codes/moved_data_4"
# Get a list of all files in subdirectories
file_list <- list.files("/path/to/subdirectories/", recursive = TRUE, full.names = TRUE)
###################### moving to new folder with all of them ##################
# Set your chosen path
chosen_path <- "C:/Users/bean_student/Documents/GraphData/all_data"
# Get a list of all files in subdirectories
file_list <- list.files("C:/Users/bean_student/Documents/meta_compatable/codes/moved_data_4", recursive = TRUE, full.names = TRUE)
file_list
# Move files to the chosen path
for (file in file_list) {
new_path <- file.path(chosen_path, basename(file))
file.copy(file, new_path)
}
###################### moving to new folder with all of them ##################
# Set your chosen path
chosen_path <- "C:/Users/bean_student/Documents/GraphData/all_data"
# Get a list of all files in subdirectories
file_list <- list.files("C:/Users/bean_student/Documents/meta_compatable/codes/moved_data", recursive = TRUE, full.names = TRUE)
head(file_list)
# Move files to the chosen path
for (file in file_list) {
new_path <- file.path(chosen_path, basename(file))
file.copy(file, new_path)
}
################### setting what the measurement is ############################
roof_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r", 3, "roof")
head(roof_list)
tail(roof_list)
for (i in seq_along(N)){
write.table(data_frames[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
for (i in seq_along(N)){
write.table(roof_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
N
################### setting what the measurement is ############################
roof_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r", 3, "roof")
length(roof_list)
roof_list[1453]
head(roof_list)
tail(roof_list)
N <- names(roof_list)
N
for (i in seq_along(N)){
write.table(roof_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
for (i in seq_along(N)){
write.table(roof_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
ground_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_g", 3, "ground")
head(ground_list)
tail(ground_list)
N <- names(ground_list)
for (i in seq_along(N)){
write.table(ground_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
accume_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"accume", 3, "accume")
head(accume_list)
tail(accume_list)
N <- names(accume_list)
for (i in seq_along(N)){
write.table(accume_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
sun_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"sun", 3, "sun")
head(sun_list)
tail(sun_list)
N <- names(sun_list)
for (i in seq_along(N)){
write.table(sun_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
temp_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"temp", 3, "temp")
head(temp_list)
tail(temp_list)
N <- names(temp_list)
for (i in seq_along(N)){
write.table(temp_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
wind_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"wind", 3, "wind")
head(wind_list)
tail(wind_list)
N <- names(wind_list)
for (i in seq_along(N)){
write.table(wind_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
################### setting what the measurement is ############################
roof_list <- other_var("C:\Users\bean_student\Documents\meta_compatable\codes\moved_data_2\nbon01",
################### setting what the measurement is ############################
roof_list <- other_var("C:/Users/bean_student/Documents/meta_compatable/codes/moved_data_2/nbon01",
"_r", 3, "roof")
head(roof_list)
tail(roof_list)
N <- names(roof_list)
for (i in seq_along(N)){
write.table(roof_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
ground_list <- other_var("C:/Users/bean_student/Documents/meta_compatable/codes/moved_data_2/nbon01",
"_g", 3, "ground")
head(ground_list)
tail(ground_list)
N <- names(ground_list)
for (i in seq_along(N)){
write.table(ground_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
accume_list <- other_var("C:/Users/bean_student/Documents/meta_compatable/codes/moved_data_2/nbon01",
"accume", 3, "accume")
head(accume_list)
tail(accume_list)
accume_list <- other_var("C:/Users/bean_student/Documents/meta_compatable/codes/moved_data_2/nbon01",
"accume", 3, "accume")
head(accume_list)
roof_list <- other_var("C:/Users/bean_student/Documents/meta_compatable/codes/moved_data_2/nbon01",
"_r", 4, "nbon01")
head(roof_list)
tail(roof_list)
N <- names(roof_list)
for (i in seq_along(N)){
write.table(roof_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
ground_list <- other_var("C:/Users/bean_student/Documents/meta_compatable/codes/moved_data_2/nbon01",
"_g", 4, "nbon01")
head(ground_list)
tail(ground_list)
N <- names(ground_list)
for (i in seq_along(N)){
write.table(ground_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
max_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r1a", 5, "max")
head(max_list)
tail(max_list)
N <- names(wind_list)
for (i in seq_along(N)){
write.table(wind_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
max_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"\da$", 5, "max")
max_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"\\da$", 5, "max")
head(max_list)
max_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r2a", 5, "max")
max_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"\\da$", 5, "max")
head(max_list)
max_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"\\da", 5, "max")
head(max_list)
max_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r\\da", 5, "max")
head(max_list)
max_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r\\da", 5, "max")
head(max_list)
tail(max_list)
N <- names(wind_list)
for (i in seq_along(N)){
write.table(wind_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
max_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r\\da", 5, "max")
head(max_list)
tail(max_list)
avg_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r\\db", 5, "avg")
length(avg_list)
avg_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r\\db", 5, "avg")
list.files("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r\\db", full.names = TRUE)
avg_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r\\db", 5, "avg")
folder_path <- "C:\\Users\\bean_student\\Documents\\GraphData\\all_data"
pattern <- "_r\\db"
column <- 5
varval <- avg
varval <- "avg"
# Get the list of CSV files in the folder
roof_files <- list.files(path = folder_path, pattern = pattern, full.names = TRUE)
# Create an empty list to store the data frames
data_frames <- list()
roof_files
# Loop through each CSV file and read it as a data frame
for (file in roof_files) {
data_frames[[file]] <- read.csv(file)
}
# Get the list of CSV files in the folder
roof_files <- list.files(path = folder_path, pattern = pattern, full.names = TRUE)
# Create an empty list to store the data frames
data_frames <- list()
# Loop through each CSV file and read it as a data frame
for (file in roof_files) {
data_frames[[file]] <- read.csv(file)
}
head(data_frames)
for (i in seq_along(data_frames)){
data_frames[[i]][,column] <- varval
}
devtools::document()
avg_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r\\db", 5, "avg")
head(avg_list)
tail(avg_list)
N <- names(avg_list)
for (i in seq_along(N)){
write.table(avg_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
min_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r\\dc", 5, "min")
head(min_list)
tail(min_list)
N <- names(min_list)
for (i in seq_along(N)){
write.table(min_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
max_list <- other_var("C:\\Users\\bean_student\\Documents\\GraphData\\all_data",
"_r\\da", 5, "max")
head(max_list)
tail(max_list)
N <- names(max_list)
for (i in seq_along(N)){
write.table(max_list[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
folder_path <- "C:\Users\bean_student\Documents\GraphData\all_data"
folder_path <- "C:/Users/bean_student/Documents/GraphData/all_data"
pattern <- "_[[:alpha:]]{3,}$"
# Get the list of CSV files in the folder
data_files <- list.files(path = folder_path, pattern = pattern, full.names = TRUE)
data_files
folder_path <- "C:/Users/bean_student/Documents/GraphData/all_data"
pattern <- "_[[:alpha:]]{3,}\\.csv"
# Get the list of CSV files in the folder
data_files <- list.files(path = folder_path, pattern = pattern, full.names = TRUE)
data_files
# Create an empty list to store the data frames
data_frames <- list()
# Loop through each CSV file and read it as a data frame
for (file in roof_files) {
data_frames[[file]] <- read.csv(file)
}
# Loop through each CSV file and read it as a data frame
for (file in data_files) {
data_frames[[file]] <- read.csv(file)
}
for (i in seq_along(data_frames)){
colnames(data_frames[[i]])[4] <- "city_code"
}
head(data_frames)
N <- names(data_frames)
N
for (i in seq_along(N)){
write.table(data_frames[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
folder_path <- "C:/Users/bean_student/Documents/GraphData/all_data"
pattern <- "_[[:alpha:]]\\d[[:alpha:]]?\\.csv"
# Get the list of CSV files in the folder
data_files <- list.files(path = folder_path, pattern = pattern, full.names = TRUE)
data_files
# Loop through each CSV file and read it as a data frame
for (file in data_files) {
data_frames[[file]] <- read.csv(file)
}
head(data_frames)
for (i in seq_along(data_frames)){
data_frames[[i]][,6] <- data_frames[[i]][,4]
}
head(data_frames)
folder_path <- "C:/Users/bean_student/Documents/GraphData/all_data"
pattern <- "_[[:alpha:]]\\d[[:alpha:]]?\\.csv"
# Get the list of CSV files in the folder
data_files <- list.files(path = folder_path, pattern = pattern, full.names = TRUE)
# Create an empty list to store the data frames
data_frames <- list()
# Loop through each CSV file and read it as a data frame
for (file in data_files) {
data_frames[[file]] <- read.csv(file)
}
for (i in seq_along(data_frames)){
data_frames[[i]][,6] <- data_frames[[i]][,4]
}
head(data_frames)
####################### Adding city code to other data. ########################
library(stringr)
####################### Adding city code to other data. ########################
library(stringr)
folder_path <- "C:/Users/bean_student/Documents/GraphData/all_data"
pattern <- "_[[:alpha:]]\\d[[:alpha:]]?\\.csv"
# Get the list of CSV files in the folder
data_files <- list.files(path = folder_path, pattern = pattern, full.names = TRUE)
# Create an empty list to store the data frames
data_frames <- list()
# Loop through each CSV file and read it as a data frame
for (file in data_files) {
data_frames[[file]] <- read.csv(file)
}
for (i in seq_along(data_frames)){
data_frames[[i]][,6] <- data_frames[[i]][,4]
data_frames[[i]][,4] <- str_sub(data_frames[[i]][,4], 1, -3)
}
head(data_frames)
folder_path <- "C:/Users/bean_student/Documents/GraphData/all_data"
pattern <- "_[[:alpha:]]\\d[[:alpha:]]?\\.csv"
# Get the list of CSV files in the folder
data_files <- list.files(path = folder_path, pattern = pattern, full.names = TRUE)
# Create an empty list to store the data frames
data_frames <- list()
# Loop through each CSV file and read it as a data frame
for (file in data_files) {
data_frames[[file]] <- read.csv(file)
}
for (i in seq_along(data_frames)){
data_frames[[i]][,6] <- data_frames[[i]][,4]
data_frames[[i]][,4] <- str_sub(data_frames[[i]][,4], 1, -3)
colnames(data_frames[[i]])[4] <- "city_code"
colnames(data_frames[[i]])[6] <- "building_code"
}
head(data_frames)
N <- names(data_frames)
for (i in seq_along(N)){
write.table(data_frames[[i]], file=N[i], row.names = FALSE, col.names = TRUE,
sep=",")
}
######################## binding all data #####################################
folder_path <- "C:/Users/bean_student/Documents/GraphData/all_data"
pattern <- "*.csv"
# Get the list of CSV files in the folder
data_files <- list.files(path = folder_path, pattern = pattern, full.names = TRUE)
data_files
# Create an empty list to store the data frames
data_frames <- list()
# Loop through each CSV file and read it as a data frame
for (file in data_files) {
data_frames[[file]] <- read.csv(file)
}
######################## binding all data #####################################
library(dplyr)
folder_path <- "C:/Users/bean_student/Documents/GraphData/all_data"
pattern <- "*.csv"
# Get the list of CSV files in the folder
data_files <- list.files(path = folder_path, pattern = pattern, full.names = TRUE)
# Create an empty list to store the data frames
data_frames <- list()
# Loop through each CSV file and read it as a data frame
for (file in data_files) {
data_frames[[file]] <- read.csv(file)
}
complete_data <- bind_rows(data_frames)
View(complete_data)
write.table(complete_data,
file = "C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv",
row.names = FALSE,
col.names = TRUE,
sep=",")
complete_data$date <- as.Date(complete_data)
complete_data$date <- as.Date(complete_data$date)
head(as.Date(complete_data$date))
complete_data$date <- as.Date(complete_data$date)
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data$date <- as.Date(data$date)
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data$date <- as.Date(data$date)
View(data)
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data1 <- data
data$date <- as.Date(data$date)
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data1 <- data
data$date <- as.Date(data$date)
sum(is.na(data$date))
sum(!is.na(data$date))
data1$date[which(is.na(data$date))]
as.Date("1/23/1966")
as.Date("12/23/1965")
View(data)
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data1 <- data
data$date
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data1 <- data
data$date <- as.Date(data$date, tryFormats = c("%Y-%m-%d", "%Y/%m/%d", "%d/%m/%Y", "%d-%m-%Y"))
sum(!is.na(data$date))
sum(is.na(data$date))
data1$date[which(is.na(data$date))]
View(data1)
which(is.na(data$date)
which(is.na(data$date))
which(is.na(data$date)
)
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data1 <- data
data$date <- as.Date(data$date, tryFormats = c("%Y-%m-%d", "%Y/%m/%d", "%m/%d/%Y", "%m-%d-%Y"))
sum(is.na(data$date))
as.Date("12/23/1965", tryFormats = c("%Y-%m-%d", "%Y/%m/%d", "%m/%d/%Y", "%m-%d-%Y"))
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data1 <- data
data$date <- as.Date(data$date)
sum(is.na(data$date))
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data1 <- data
data$date <- as.Date(data$date, tryFormats = c("%Y-%m-%d", "%Y/%m/%d", "%m/%d/%Y", "%m-%d-%Y"))
sum(is.na(data$date))
data <- read.csv("C:\\Users\\bean_student\\Documents\\GraphData\\complete_data.csv")
data1 <- data
data$date <- as.Date(data$date, tryFormats = c("%Y-%m-%d", "%Y/%m/%d", "%m/%d/%Y", "%m-%d-%Y"))
View(data)
